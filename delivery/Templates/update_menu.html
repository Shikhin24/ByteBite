{% extends "base.html" %}
{% block title %}Update menu{% endblock %}
{% block content %}

    <h2>Menu for {{ restaurant.name }}</h2>

    <!-- ðŸ”¹ EXISTING MENU LIST -->
    {% if items %}
    <table class="data-table">
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Price</th>
        <th>Type</th>
        <th>Image</th>
      </tr>

      {% for item in items %}
      <tr>
        <td>{{ item.name }}</td>
        <td>{{ item.description }}</td>
        <td>â‚¹{{ item.price }}</td>
        <td>{% if item.nonVeg %} Non-Veg {% else %} Veg {% endif %}</td>
        <td>
          <img src="{{ item.picture }}" width="80" />
        </td>
      </tr>
      {% endfor %}
    </table>
    {% else %}
    <p>No menu items yet.</p>
    {% endif %}

    <hr />

    <!-- ðŸ”¹ ADD MENU FORM -->

    <div class="card">
    <h3>Add New Menu Item</h3>

    <form action="{% url 'update_menu' restaurant.id %}" method="POST">
      {% csrf_token %}

      <label for="menu-name">Menu name</label>
      <input id="menu-name" type="text" name="name" required /><br /><br />

      <label>Description</label>
      <input type="text" name="description" required /><br /><br />

      <label>Image URL</label>
      <input type="url" name="picture" required /><br /><br />

      <label for="menu-price">Price</label>
      <input id="menu-price" type="number" step="0.01" name="price" required /><br /><br />

      <label> <input type="checkbox" name="nonVeg" /> Non-Veg </label
      ><br /><br />

      <button type="submit">Add Menu</button>
    </form>
  </div>
{% endblock %}
